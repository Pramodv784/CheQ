package com.cheq.profile.data.mappers

import com.cheq.common.extension.orFalse
import com.cheq.common.extension.orZero
import com.cheq.profile.data.models.TransactionHistoryDetailDto
import com.cheq.profile.domain.entities.PRODUCTTYPE
import com.cheq.profile.domain.entities.TransactionHistoryDetail

/**
 * Created by Akash Khatkale on 17th May, 2023.
 * akash.k@cheq.one
 */
fun TransactionHistoryDetailDto.toTransactionHistoryDetailModel(): TransactionHistoryDetail =
    TransactionHistoryDetail(
        transactionList = TransactionHistoryDetail.TransactionHistoryDetailList(
            summaryTransactionStartedAt = this.transactionList?.summaryTransactionStartedAt.orEmpty(),
            rewardExpiresIn = this.transactionList?.rewardExpiresIn.orEmpty(),
            summaryPayinStatus = this.transactionList?.summaryPayinStatus.orEmpty(),
            summaryNarration = this.transactionList?.summaryNarration.orEmpty(),
            payoutBeneId = this.transactionList?.payoutBeneId.orEmpty(),
            billBillAmount = this.transactionList?.billBillAmount.orZero,
            summaryPayoutStatus = this.transactionList?.summaryPayoutStatus.orEmpty(),
            summaryPayoutCount = this.transactionList?.summaryPayoutCount,
            payoutAmount = this.transactionList?.payoutAmount,
            rewardEventId = this.transactionList?.rewardEventId.orEmpty(),
            billUpdatedAt = this.transactionList?.billUpdatedAt.orEmpty(),
            billPayinStatus = this.transactionList?.billPayinStatus.orEmpty(),
            payoutCreatedBy = this.transactionList?.payoutCreatedBy.orEmpty(),
            billId = this.transactionList?.billId.orEmpty(),
            billPaymentMethod = this.transactionList?.billPaymentMethod.orEmpty(),
            summaryPartiallyRefunded = this.transactionList?.summaryPartiallyRefunded.orEmpty(),
            billProductId = this.transactionList?.billProductId.orEmpty(),
            rewardProductId = this.transactionList?.rewardProductId.orEmpty(),
            summaryStatus = this.transactionList?.summaryStatus.orEmpty(),
            summaryBankMasterId = this.transactionList?.summaryBankMasterId.orEmpty(),
            payoutRepaymentType = this.transactionList?.payoutRepaymentType.orEmpty(),
            rewardBankMasterId = this.transactionList?.rewardBankMasterId.orEmpty(),
            rewardStatus = this.transactionList?.rewardStatus.orEmpty(),
            rewardExpireRewardPoints = this.transactionList?.rewardExpireRewardPoints,
            summaryUpdatedAt = this.transactionList?.summaryUpdatedAt.orEmpty(),
            payoutNarration = this.transactionList?.payoutNarration.orEmpty(),
            narration = this.transactionList?.narration.orEmpty(),
            transactionStatus = this.transactionList?.transactionStatus.orEmpty(),
            payoutTransactionUpdatedAt = this.transactionList?.payoutTransactionUpdatedAt.orEmpty(),
            billPayinTransactionId = this.transactionList?.billPayinTransactionId.orEmpty(),
            billPayoutFailureReason = this.transactionList?.billPayoutFailureReason.orEmpty(),
            summaryPayoutTime = this.transactionList?.summaryPayoutTime.orEmpty(),
            rewardUpdatedBy = this.transactionList?.rewardUpdatedBy.orEmpty(),
            rewardAvailableRewardPoints = this.transactionList?.rewardAvailableRewardPoints,
            payoutReferenceId = this.transactionList?.payoutReferenceId.orEmpty(),
            rewardRewardId = this.transactionList?.rewardRewardId.orEmpty(),
            summaryAuthTransaction = this.transactionList?.summaryAuthTransaction.orZero,
            summaryId = this.transactionList?.summaryId.orEmpty(),
            rewardCreatedBy = this.transactionList?.rewardCreatedBy.orEmpty(),
            rewardBillId = this.transactionList?.rewardBillId.orEmpty(),
            rewardEarnRewardPoints = this.transactionList?.rewardEarnRewardPoints.orZero,
            payoutUpdatedAt = this.transactionList?.payoutUpdatedAt.orEmpty(),
            billPayoutTransactionId = this.transactionList?.billPayoutTransactionId.orEmpty(),
            payoutId = this.transactionList?.payoutId.orEmpty(),
            payoutFailureReason = this.transactionList?.payoutFailureReason.orEmpty(),
            rewardTraceId = this.transactionList?.rewardTraceId.orEmpty(),
            rewardId = this.transactionList?.rewardId.orEmpty(),
            payoutCreatedAt = this.transactionList?.payoutCreatedAt.orEmpty(),
            summaryAmount = this.transactionList?.summaryAmount.orZero,
            billPayoutStatus = this.transactionList?.billPayoutStatus.orEmpty(),
            rewardUpdatedAt = this.transactionList?.rewardUpdatedAt.orEmpty(),
            rewardCreatedAt = this.transactionList?.rewardCreatedAt.orEmpty(),
            summaryComment = this.transactionList?.summaryComment.orEmpty(),
            rewardCheqUserId = this.transactionList?.rewardCheqUserId.orEmpty(),
            payoutTransactionStartedAt = this.transactionList?.payoutTransactionStartedAt.orEmpty(),
            payoutUpdatedBy = this.transactionList?.payoutUpdatedBy.orEmpty(),
            payoutEctNarration = this.transactionList?.payoutEctNarration.orEmpty(),
            billCreatedAt = this.transactionList?.billCreatedAt.orEmpty(),
            summaryBillPaymentType = this.transactionList?.summaryBillPaymentType.orEmpty(),
            payoutProductId = this.transactionList?.payoutProductId.orEmpty(),
            summaryCheqUserId = this.transactionList?.summaryCheqUserId.orEmpty(),
            payoutPaymentRepaymentName = this.transactionList?.payoutPaymentRepaymentName.orEmpty(),
            billTender = this.transactionList?.billTender.orEmpty(),
            rewardEventPayload = TransactionHistoryDetail.TransactionHistoryDetailList.RewardEventPayload(
                eventId = this.transactionList?.rewardEventPayload?.eventId.orEmpty(),
                earnMode = this.transactionList?.rewardEventPayload?.earnMode.orEmpty(),
                eventName = this.transactionList?.rewardEventPayload?.eventName.orEmpty(),
                earnRewardsUserEventsId = this.transactionList?.rewardEventPayload?.earnRewardsUserEventsId.orEmpty(),
                cheqUserId = this.transactionList?.rewardEventPayload?.cheqUserId.orEmpty(),
                createdAt = this.transactionList?.rewardEventPayload?.createdAt.orEmpty(),
                traceId = this.transactionList?.rewardEventPayload?.traceId.orEmpty(),
                eventPayload = TransactionHistoryDetail.TransactionHistoryDetailList.RewardEventPayload.EventPayload(
                    bin = this.transactionList?.rewardEventPayload?.eventPayloadDto?.bin.orEmpty(),
                    amount = this.transactionList?.rewardEventPayload?.eventPayloadDto?.amount.orZero,
                    totalDuePaid = this.transactionList?.rewardEventPayload?.eventPayloadDto?.totalDuePaid.orFalse
                ),
                infoPayload = TransactionHistoryDetail.TransactionHistoryDetailList.RewardEventPayload.InfoPayload(
                    eventName = this.transactionList?.rewardEventPayload?.infoPayload?.eventName.orEmpty(),
                    earnMode = this.transactionList?.rewardEventPayload?.infoPayload?.earnMode.orEmpty(),
                    eventId = this.transactionList?.rewardEventPayload?.infoPayload?.eventId.orEmpty(),
                    createdAt = this.transactionList?.rewardEventPayload?.infoPayload?.createdAt.orEmpty(),
                    traceId = this.transactionList?.rewardEventPayload?.infoPayload?.traceId.orEmpty(),
                ),
                narration = this.transactionList?.narration.orEmpty()
            ),
            payoutPayoutRepaymentCardNetwork = this.transactionList?.payoutPayoutRepaymentCardNetwork,
            summaryChipUsed = this.transactionList?.summaryChipUsed.orZero,
            billCheqUniTransactionId = this.transactionList?.billCheqUniTransactionId.orEmpty(),
            summaryPaymentSplit = this.transactionList?.summaryPaymentSplit.orEmpty(),
            summaryCreatedAt = this.transactionList?.summaryCreatedAt.orEmpty(),
            payoutTransactionStatus = this.transactionList?.payoutTransactionStatus.orEmpty(),
            payoutStatus = this.transactionList?.payoutStatus.orEmpty(),
            payoutPayoutMethod = this.transactionList?.payoutPayoutMethod.orEmpty(),
            billBillId = this.transactionList?.billBillId.orEmpty(),
            payoutPgTransactionStatus = this.transactionList?.payoutPgTransactionStatus.orEmpty(),
            payoutProductType = this.transactionList?.payoutProductType.orEmpty(),
            billRewardRefId = this.transactionList?.billRewardRefId.orEmpty(),
            billNarration = this.transactionList?.billNarration.orEmpty(),
            billPaidTogether = this.transactionList?.billPaidTogether.orZero,
            summaryProductId = this.transactionList?.summaryProductId.orEmpty(),
            billSystemGenerated = this.transactionList?.billSystemGenerated.orZero,
            summaryPayinTime = this.transactionList?.summaryPayinTime.orEmpty(),
            billPayinFailureReason = this.transactionList?.billPayinFailureReason.orEmpty(),
            summaryCreatedBy = this.transactionList?.summaryCreatedBy.orEmpty(),
            payoutRepaymentProduct = this.transactionList?.payoutRepaymentProduct.orEmpty(),
            rewardConsumerTransactionId = this.transactionList?.rewardConsumerTransactionId.orEmpty(),
            rewardConsumerReferenceId = this.transactionList?.rewardConsumerReferenceId.orEmpty(),
            payoutCheqUserId = this.transactionList?.payoutCheqUserId.orEmpty(),
            billBankMasterId = this.transactionList?.billBankMasterId.orEmpty(),
            rewardUsedRewardPoints = this.transactionList?.rewardUsedRewardPoints,
            rewardRuleId = this.transactionList?.rewardRuleId.orEmpty(),
            billChipAmount = this.transactionList?.billChipAmount.orZero,
            timestampDiff = this.transactionList?.timestampDiff.orEmpty(),
            payoutCheqUniTransactionId = this.transactionList?.payoutCheqUniTransactionId.orEmpty(),
            billChipUsed = this.transactionList?.billChipUsed.orZero,
            summaryUpdatedBy = this.transactionList?.summaryUpdatedBy.orEmpty(),
            payoutBillId = this.transactionList?.payoutBillId.orEmpty(),
            summaryTransactionUpdatedAt = this.transactionList?.summaryTransactionUpdatedAt.orEmpty(),
            payoutPayoutMode = this.transactionList?.payoutPayoutMode.orEmpty(),
            billUpdatedBy = this.transactionList?.billUpdatedBy.orEmpty(),
            summaryTransactionStatus = this.transactionList?.summaryTransactionStatus.orEmpty(),
            payoutPgName = this.transactionList?.payoutPgName.orEmpty(),
            payoutBankmasterId = this.transactionList?.payoutBankmasterId.orEmpty(),
            billCheqUserId = this.transactionList?.billCheqUserId.orEmpty(),
            summaryRefundedAmount = this.transactionList?.summaryRefundedAmount.orZero,
            billStatus = this.transactionList?.billStatus.orEmpty(),
            billCashAmount = this.transactionList?.billCashAmount.orZero,
            summaryBillCount = this.transactionList?.summaryBillCount.orZero,
            payoutPayoutUtr = this.transactionList?.payoutPayoutUtr.orEmpty(),
            summaryRefundedCount = this.transactionList?.summaryRefundedCount.orZero,
            payoutPgMid = this.transactionList?.payoutPgMid.orEmpty(),
            billCreatedBy = this.transactionList?.billCreatedBy.orEmpty(),
            billRewardTransactionId = this.transactionList?.billRewardTransactionId.orEmpty(),
            rewardEventRuleJson = this.transactionList?.rewardEventRuleJson,
            billComment = this.transactionList?.billComment.orEmpty(),
            summaryFailureReason = this.transactionList?.summaryFailureReason.orEmpty(),
            summaryChipAmount = this.transactionList?.summaryChipAmount.orZero,
            payoutPgId = this.transactionList?.payoutPgId.orEmpty(),
            refundRnn = this.transactionList?.refundRnn.orEmpty(),
            feeNarration = this.transactionList?.feeNarration.orEmpty(),
            productDetails = TransactionHistoryDetail.TransactionHistoryDetailList.ProductDetails(
                last4 = this.transactionList?.productDetails?.last4.orEmpty(),
                cbCreatedFrom = this.transactionList?.productDetails?.cbCreatedFrom.orEmpty(),
                ifscPrefix = this.transactionList?.productDetails?.ifscPrefix.orEmpty(),
                cardNetwork = this.transactionList?.productDetails?.cardNetwork.orEmpty(),
                institutionMasterId = this.transactionList?.productDetails?.institutionMasterId.orEmpty(),
                createdAt = this.transactionList?.productDetails?.createdAt.orEmpty(),
                productStatus = this.transactionList?.productDetails?.productStatus.orEmpty(),
                interimDate = this.transactionList?.productDetails?.interimDate.orEmpty(),
                tokenizationStatus = this.transactionList?.productDetails?.tokenizationStatus.orEmpty(),
                verificationStatus = this.transactionList?.productDetails?.verificationStatus.orEmpty(),
                productNumber = this.transactionList?.productDetails?.productNumber.orEmpty(),
                iin = this.transactionList?.productDetails?.iin.orEmpty(),
                updatedAt = this.transactionList?.productDetails?.updatedAt.orEmpty(),
                isTotalDueEnabled = this.transactionList?.productDetails?.isTotalDueEnabled.orFalse,
                tokenizationDate = this.transactionList?.productDetails?.tokenizationDate.orEmpty(),
                id = this.transactionList?.productDetails?.id.orEmpty(),
                bankMasterId = this.transactionList?.productDetails?.bankMasterId.orEmpty(),
                billRepeatCount = this.transactionList?.productDetails?.billRepeatCount.orZero,
                instrumentMaster = TransactionHistoryDetail.TransactionHistoryDetailList.ProductDetails.InstrumentMaster(
                    billerName = this.transactionList?.productDetails?.instrumentMaster?.billerName.orEmpty(),
                    bankName = this.transactionList?.productDetails?.instrumentMaster?.bankName.orEmpty(),
                    isActive = this.transactionList?.productDetails?.instrumentMaster?.isActive.orFalse,
                    iFSCPrefix = this.transactionList?.productDetails?.instrumentMaster?.iFSCPrefix.orEmpty(),
                    createdAt = this.transactionList?.productDetails?.instrumentMaster?.createdAt.orEmpty(),
                    benePaymentMethod = this.transactionList?.productDetails?.instrumentMaster?.benePaymentMethod.orEmpty(),
                    isDeleted = this.transactionList?.productDetails?.instrumentMaster?.isDeleted.orFalse,
                    creditCardIfsc = this.transactionList?.productDetails?.instrumentMaster?.creditCardIfsc.orEmpty(),
                    v = this.transactionList?.productDetails?.instrumentMaster?.v.orZero,
                    originalBankName = this.transactionList?.productDetails?.instrumentMaster?.originalBankName.orEmpty(),
                    alias = this.transactionList?.productDetails?.instrumentMaster?.alias?.map {
                        it.orEmpty()
                    } ?: emptyList(),
                    rank = this.transactionList?.productDetails?.instrumentMaster?.rank.orZero,
                    _id = this.transactionList?.productDetails?.instrumentMaster?._id.orEmpty(),
                    id = this.transactionList?.productDetails?.instrumentMaster?.id.orEmpty(),
                    updatedAt = this.transactionList?.productDetails?.instrumentMaster?.updatedAt.orEmpty(),
                    uiConfig = TransactionHistoryDetail.TransactionHistoryDetailList.ProductDetails.InstrumentMaster.UiConfig(
                        opacityTopLeft = this.transactionList?.productDetails?.instrumentMaster?.uiConfig?.opacityTopLeft.orEmpty(),
                        opacityBorder = this.transactionList?.productDetails?.instrumentMaster?.uiConfig?.opacityBorder.orEmpty(),
                        opacityBottomRight = this.transactionList?.productDetails?.instrumentMaster?.uiConfig?.opacityBottomRight.orEmpty(),
                        cardColor = this.transactionList?.productDetails?.instrumentMaster?.uiConfig?.cardColor.orEmpty()
                    )
                ),
                isTokenized = this.transactionList?.productDetails?.isTokenized.orFalse,
                billGeneratedDate = this.transactionList?.productDetails?.billGeneratedDate.orEmpty(),
                payabilityStatus = this.transactionList?.productDetails?.payabilityStatus.orEmpty(),
                createdBy = this.transactionList?.productDetails?.createdBy.orEmpty(),
                isEnabledForAutopay = this.transactionList?.productDetails?.isEnabledForAutopay.orFalse,
                beneficiaryId = this.transactionList?.productDetails?.beneficiaryId.orEmpty(),
                primaryPayableMethod = this.transactionList?.productDetails?.primaryPayableMethod.orEmpty(),
                productType = PRODUCTTYPE.find(this.transactionList?.productDetails?.productType.orEmpty()),
                confirmationStatus = this.transactionList?.productDetails?.confirmationStatus.orFalse,
                cheqUserId = this.transactionList?.productDetails?.cheqUserId.orEmpty(),
                tokenLastUsed = this.transactionList?.productDetails?.tokenLastUsed,
                updatedBy = this.transactionList?.productDetails?.updatedBy.orEmpty(),
                comment = this.transactionList?.productDetails?.comment.orEmpty(),
                customerName = this.transactionList?.productDetails?.customerName.orEmpty(),
                networkTokenPayoutSupport = this.transactionList?.productDetails?.networkTokenPayoutSupport.orFalse,
                createdFrom = this.transactionList?.productDetails?.createdFrom.orEmpty(),
                status = this.transactionList?.productDetails?.status.orEmpty(),
                beneIdStatus = this.transactionList?.productDetails?.beneIdStatus.orEmpty()
            )
        )
    )